const bgImages=["/static/media/login/bg.jpg","/static/media/login/bg1.jpg","/static/media/login/bg2.jpg","/static/media/login/bg3.jpg","/static/media/login/bg4.jpg","/static/media/login/bg5.jpg","/static/media/login/bg6.jpg","/static/media/login/bg7.jpg","/static/media/login/bg8.jpg","/static/media/login/bg9.jpg"],loginBg=document.getElementById("login-bg"),loginBody=document.getElementById("login-body"),btnShuffle=document.getElementById("btn-random-bg"),btnPin=document.getElementById("btn-pin-bg"),pinIcon=document.getElementById("pin-icon");bgImages.forEach(e=>{(new Image).src=e});function getInitialBackground(){const e=localStorage.getItem("pinnedBg");return e&&bgImages.includes(e)?e:bgImages[Math.floor(Math.random()*bgImages.length)]}function setBackground(e){loginBg.style.backgroundImage=`url('${e}')`,loginBg.dataset.current=e;const t=localStorage.getItem("pinnedBg")===e;pinIcon.textContent=t?"pin_end":"push_pin",loginBody.classList.toggle("bg-pinned",t)}btnShuffle.addEventListener("click",()=>{const e=loginBg.dataset.current;let t=e;for(;t===e&&bgImages.length>1;)t=bgImages[Math.floor(Math.random()*bgImages.length)];setBackground(t)}),btnPin.addEventListener("click",()=>{const e=loginBg.dataset.current;localStorage.getItem("pinnedBg")===e?localStorage.removeItem("pinnedBg"):localStorage.setItem("pinnedBg",e),setBackground(e)}),setBackground(getInitialBackground());
