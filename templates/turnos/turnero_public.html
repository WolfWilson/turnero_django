{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Turnos – Terminal Pública</title>

  <!-- Bootstrap 5 sólo con los módulos necesarios -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <style>
    :root{
      --azul-fondo:#022436;
      --naranja:#ff8c1a;
      --verde:#28a745;
      --rojo:#d9534f;
      --gris-btn:#e0e0e0;
      --size-btn:120px;
    }
    body{background:var(--azul-fondo);color:#fff;text-align:center}
    .pantalla{display:none}
    .pantalla.activa{display:block}
    .key{width:var(--size-btn);height:var(--size-btn);font-size:2.5rem}
    .key.num{background:var(--naranja)}
    .key.func{background:var(--rojo)}
    .key.back{background:var(--naranja)}
    .categoria-btn{
      min-width:260px;margin:1rem auto;font-size:1.6rem;
      background:var(--gris-btn);color:#333
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
  <script defer src="{% static 'js/turnero_spa.js' %}"></script>
</head>
<body>

<!-- PANTALLA 1 · DNI ----------------------------------------------------->
<section id="pantalla-dni" class="pantalla activa container py-5">
  <h2 class="mb-4">Para gestionar su turno<br>Ingrese el DNI del titular del trámite</h2>

  <!-- teclado numérico -->
  <div id="teclado" class="d-flex flex-column align-items-center">
    <div class="d-grid gap-2" style="grid-template-columns:repeat(3,1fr)">
      {% for n in "123456789" %}
        <button class="btn key num" data-num="{{ n }}">{{ n }}</button>
      {% endfor %}
      <button class="btn key func" id="clear">✖</button>
      <button class="btn key num" data-num="0">0</button>
      <button class="btn key back" id="back">←</button>
    </div>
  </div>

  <!-- input visual -->
  <div class="mt-4">
    <input id="dni-input" class="form-control text-center fs-3" style="max-width:360px" readonly>
  </div>

  <button id="dni-ok" class="btn btn-success fs-4 px-5 mt-4" disabled>Confirmar</button>
</section>


<!-- PANTALLA 2 · CATEGORÍAS --------------------------------------------->
<section id="pantalla-cat" class="pantalla container py-5">
  <h2 class="mb-4">Seleccione el motivo de su trámite</h2>
  <div id="cat-container" class="row gy-3"></div>
  <button id="cat-back" class="btn btn-secondary mt-4">Volver</button>
</section>


<!-- PANTALLA 3 · CONFIRMACIÓN ------------------------------------------->
<section id="pantalla-ok" class="pantalla container py-5">
  <h2 id="ok-nombre" class="fw-bold display-3 mb-3"></h2>
  <h4 class="bg-success py-3" id="ok-cat"></h4>
  <p id="ok-espera" class="fs-4 my-4"></p>

  <div class="d-flex justify-content-center gap-3">
    <button id="otro-btn" class="btn btn-primary px-4">Sacar otro turno</button>
    <button id="salir-btn" class="btn btn-danger px-4">Salir</button>
  </div>
</section>

<script>
  // CSRF para fetch POST
  const csrftoken="{{ csrf_token }}";
</script>
</body>
</html>
