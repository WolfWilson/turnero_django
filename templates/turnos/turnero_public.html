{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Turnos – Terminal Pública</title>

  <!-- Bootstrap 5 “slim” -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Google Material Symbols (Rounded) -->
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:wght@400;700" rel="stylesheet">

  <style>
    :root{
      --azul-fondo:#022436;
      --azul-btn:#247ba0;     /* números */
      --naranja:#ff8c32;      /* retroceso */
      --verde:#28a745;        /* confirmar */
      --rojo:#d9534f;         /* borrar */
      --gris-btn:#e0e0e0;
      --size-btn:120px;
      --gap-btn:14px;
      --br:14px;              /* border-radius */
    }

    /* ——— layout básico ——— */
    body{
      background:var(--azul-fondo);
      color:#fff;
      text-align:center;
      -webkit-font-smoothing:antialiased;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    }
    .pantalla{display:none}
    .pantalla.activa{display:block}

    /* ——— teclado ——— */
    #teclado .d-grid{
      gap:var(--gap-btn);               /* espaciado entre botones */
      grid-template-columns:repeat(3,var(--size-btn));
    }
    .key{
      width:var(--size-btn);
      height:var(--size-btn);
      border-radius:var(--br);
      font-size:2.75rem;
      font-weight:700;                  /* números en negrita */
      line-height:1;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 3px 6px rgba(0,0,0,.25);
      user-select:none;
      border:0;
      transition:transform .07s ease;
    }
    .key:active{transform:scale(.94);}

    .key.num{background:var(--azul-btn);}
    .key.func{background:var(--rojo);}
    .key.back{background:var(--naranja);}

    .key span.material-symbols-rounded{
      font-size:3rem;          /* iconos grandes */
      font-weight:700;
      line-height:1;
    }

    /* ——— input DNI ——— */
    #dni-input{
      max-width:360px;
      font-size:2rem;
      border-radius:var(--br);
      box-shadow:0 3px 6px rgba(0,0,0,.2) inset;
    }

    /* ——— botón confirmar ——— */
    #dni-ok{
      background:var(--verde);
      border-radius:var(--br);
      font-weight:600;
    }

    /* categorías (pantalla 2) */
    .categoria-btn{
      min-width:260px;
      margin:1rem auto;
      font-size:1.6rem;
      background:var(--gris-btn);
      color:#333;
      border-radius:var(--br);
    }
  </style>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
  <script defer src="{% static 'js/turnero_spa.js' %}"></script>
</head>
<body>

<!-- PANTALLA 1 · DNI ----------------------------------------------------->
<section id="pantalla-dni" class="pantalla activa container py-5">
  <h2 class="mb-4">Para gestionar su turno<br>Ingrese el DNI del titular del trámite o consulta</h2>

  <!-- teclado numérico -->
  <div id="teclado" class="d-flex flex-column align-items-center">
    <div class="d-grid">
      {% for n in "123456789" %}
        <button class="btn key num" data-num="{{ n }}">{{ n }}</button>
      {% endfor %}
      <button class="btn key func" id="clear">
        <span class="material-symbols-rounded">close</span>
      </button>
      <button class="btn key num" data-num="0">0</button>
      <button class="btn key back" id="back">
        <span class="material-symbols-rounded">backspace</span>
      </button>
    </div>
  </div>

  <!-- input box visual -->
<div class="mt-4 d-flex justify-content-center">
  <input id="dni-input" class="form-control text-center fs-3" style="max-width:360px" readonly>
</div>

  <button id="dni-ok" class="btn btn-success fs-4 px-5 mt-4" disabled>Confirmar</button>
</section>


<!-- PANTALLA 2 · CATEGORÍAS --------------------------------------------->
<section id="pantalla-cat" class="pantalla container py-5">
  <h2 class="mb-4">Seleccione el motivo de su trámite</h2>
  <div id="cat-container" class="row gy-3"></div>
  <button id="cat-back" class="btn btn-secondary mt-4">Volver</button>
</section>


<!-- PANTALLA 3 · CONFIRMACIÓN ------------------------------------------->
<section id="pantalla-ok" class="pantalla container py-5">
  <h2 id="ok-nombre" class="fw-bold display-3 mb-3"></h2>
  <h4 class="bg-success py-3" id="ok-cat"></h4>
  <p id="ok-espera" class="fs-4 my-4"></p>

  <div class="d-flex justify-content-center gap-3">
    <button id="otro-btn" class="btn btn-primary px-4">Sacar otro turno</button>
    <button id="salir-btn" class="btn btn-danger px-4">Salir</button>
  </div>
</section>

<script>
  /* CSRF para fetch POST */
  const csrftoken = "{{ csrf_token }}";
</script>
</body>
</html>
